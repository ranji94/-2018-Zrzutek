<!DOCTYPE html>
<html lang="pl" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=EDGE"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<link rel="stylesheet" th:href="@{/css/upanel.css}"/>
<!--link rel="stylesheet" href="upanel.css"/ CSS LOKALNY-->
<link href="https://fonts.googleapis.com/css?family=Lato|Lobster|Open+Sans" rel="stylesheet">
<title>ZRZUTEK | Panel Użytkownika</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script> 
</head>
<body>
	<div class="naglowek">ZRZUTEK</div>
    <div class="status">
   	
   	<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" href="#">Strona główna</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/usersearch">Wyszukaj użytkownika</a>
            </li>
        </ul>
    </div>
    <div class="mx-auto order-0">
        <span style="font-weight: bold;" th:text="${currentuser}"></span>
    </div>
    <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                Aby wylogować, kliknij <a href="/logout">tutaj</a>.
            </li>
        </ul>
    </div>
</nav>
   	
   	</div>
    <div class="glowna">
        <h1>Dodaj produkt do bazy:</h1>
        <div class="formularzproduktu">
            <form action="#" th:action="@{/shopping}" th:object="${shoppingList}" class="form-inline" method="post">
            
                <table style="table-layout: fixed; width: 100%">
                <tr>
                <td>Nazwa produktu:</td>
                <td>Cena:</td>
                <td>Ilość:</td>
                <td>Sklep:</td>
                </tr>
                <tr>
                <td><input type="text" th:field="*{product_name}" class="form-control my-2 my-sm-0" placeholder="Nazwa produktu"/></td>
                <td><input type="text" th:field="*{product_price}" class="form-control my-2 my-sm-0" placeholder="2,29"/>zł</td>
                <td><input type="text" th:field="*{quantity}" class="form-control my-2 my-sm-0" placeholder="1"/></td>
                <td><input type="text" th:field="*{product_shop}" class="form-control my-2 my-sm-0" placeholder="Lidl"/></td>
                </tr>
                <tr>
                <td><span th:if="${#fields.hasErrors('product_name')}" th:errors="*{product_name}">Product_name Error</span></td>
                <td><span th:if="${#fields.hasErrors('product_price')}" th:errors="*{product_price}">Product_price Error</span></td>
                <td><span th:if="${#fields.hasErrors('quantity')}" th:errors="*{quantity}"> Quantity Error</span></td>
                <td><span th:if="${#fields.hasErrors('product_shop')}" th:errors="*{product_shop}">Product_shop Error</span></td>
                </tr>
                <tr>
                <td style="text-align: center;" colspan="4"><input class="btn btn-info form-control my-2 my-sm-0" type="submit" value="Dodaj"/></td>
                </tr>
                </table>
            </form>
        </div>
        <div class="lista">
        <h1>Lista ostatnich 10 zakupów:</h1>
			<table class="table table-hover table-striped">
				<tr>
					<th>Data zakupu</th>
					<th>Nazwa produktu</th>
					<th>Cena [zł]</th>
					<th>Ilość</th>
					<th>Sklep</th>
				</tr>
				<tr th:each="element:${lista}">
					<td th:text="${element.date}"></td>
					<td th:text="${element.product_name}"></td>
					<td th:text="${element.product_price}"></td>
					<td th:text="${element.quantity}"></td>
					<td th:text="${element.product_shop}"></td>
				</tr>
			</table>
        </div>
    </div>
</body>
</html>